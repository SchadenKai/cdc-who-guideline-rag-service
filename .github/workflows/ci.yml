name: CI Pipeline

on:
    push:
        branches: ["main"]
    pull_request:
        branches: ["main"]

jobs:
    quality:
        name: Code Quality
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: Install uv
              uses: astral-sh/setup-uv@v5
              with:
                version: "latest"
                enable-cache: true

            - name: Setup Python 3.11
              run: uv python install 3.11

            - name: Install Dependencies
              run : uv sync --app-extras --dev

            - name: Lint with Ruff
              run: |
                uv run ruff check .
                uv run ruff format --check .

            - name: Type check with mypy
              run: uv run mypy .
